function ajax(e){dataObjectClean={type:"",url:"",data:"",dataType:"json",beforeSend:"",error:"",success:""};for(var t in dataObjectClean)e[t]||(e[t]=dataObjectClean[t].value);e.data.security=theme_custom_ajax.security;var o=!0,n="";if(e.type||(console.log("A request type must be set"),o=!1),"GET"===e.type||"POST"===e.type||(console.log("Incorrect request type set"),o=!1),e.url||(console.log("A request url must be set"),o=!1),e.success||(console.log("A callback function must be set"),o=!1),o){if(""!=e.beforeSend&&"function"==typeof e.beforeSend&&e.beforeSend(),e.data)var n="string"==typeof e.data?e.data:Object.keys(e.data).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e.data[t])}).join("&");var a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return"GET"==e.type&&(n&&(e.url=e.url+"/?"+n),a.open("GET",e.url)),"POST"==e.type&&(n&&(e.url=e.url+"/?"+n),a.open("POST",e.url)),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){try{var t=a.responseText}catch(o){return void("function"==typeof error&&error(o.message+" in "+a.responseText))}"json"==e.dataType&&(t=JSON.parse(a.responseText)),e.success(t)}},a.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"==e.type&&(a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(n)),"GET"==e.type&&a.send(),a}}function getPhpAjax(e,t,o,n){ajax({type:"GET",url:theme_custom_ajax.ajax_url,dataType:t,data:e,beforeSend:function(){o&&o()},success:function(e){n&&n(e)},error:function(e,t,o){console.log(e+" :: "+t+" :: "+o)}})}function postPhpAjax(e,t,o,n){ajax({type:"POST",url:theme_custom_ajax.ajax_url,dataType:t,data:e,beforeSend:function(){o&&o()},success:function(e){n&&n(e)},error:function(e,t,o){console.log(e+" :: "+t+" :: "+o)}})}function ajaxLoadingAnimation(e,t){if(("prepend"==t||"append"==t)&&!ajaxLoadingAnimationActive.contains(e)){ajaxLoadingAnimationActive.push(e);var o=document.createElement("div");o.style.display="none",o.classList.add("loader"),e.classList.contains("loading")||e.classList.add("loading"),"prepend"==t&&(e.insertBefore(o,e.firstChild),fade({el:o,type:"in",duration:500})),"append"==t&&(insertAfter(o,e),fade({el:o,type:"in",duration:500}))}if("remove"==t&&ajaxLoadingAnimationActive.contains(e)){var n=ajaxLoadingAnimationActive.indexOf(e);n!=-1&&ajaxLoadingAnimationActive.splice(n,1),e.classList.contains("loading")&&e.classList.remove("loading");var a=e.getElementsByClassName("loader");if(a.length>0)for(;a[0];)a[0].parentNode.removeChild(a[0])}}function addEvents(e,t,o){for(var n=t.split(", "),a=0,i=n.length;a<i;a++)e.on(n[a],o,!1)}function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=o.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function hasClass(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}function checkCookieSet(e){var t=store.get(e);return"undefined"==typeof t&&(t=!1),t}function syncTextInputElements(e,t){var o=document.getElementById(e),n=document.getElementById(t);null!=o&&null!=n&&(addEvents(o,"keyup, change, focusout, touchend",function(){n.value=o.value}),addEvents(n,"keyup, change, focusout, touchend",function(){o.value=n.value}))}function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function insertAfter(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function debounce(e,t,o){var n;return function(){var a=this,i=arguments,r=function(){n=null,o||e.apply(a,i)},s=o&&!n;clearTimeout(n),n=setTimeout(r,t),s&&e.apply(a,i)}}function checkVisible(e){var t=e.getBoundingClientRect(),o=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(t.bottom<0||t.top-o>=0)}function fade(e,t){e=Object.assign({type:"in",duration:400,display:"block"},e);var o="in"===e.type,n=o?0:1,a=50,i=a/e.duration;o&&(e.el.style.display=e.display,e.el.style.opacity=n);var r=window.setInterval(function(){n=o?n+i:n-i,e.el.style.opacity=n,n<=0&&(e.el.style.display="none"),(n<=0||n>=1)&&(r&&window.clearInterval(r),e.empty&&(e.el.textContent=""),t&&t())},a)}function slideDown(e,t){t=t||"300ms ease",e.style.webkitTransition="initial",e.style.transition="initial",e.style.visibility="hidden",e.style.maxHeight="initial";var o=e.offsetHeight+"px";e.style.removeProperty("visibility"),e.style.maxHeight="0",e.style.overflow="hidden",e.style.webkitTransition="max-height "+t+", opacity "+t,e.style.transition="max-height "+t+", opacity "+t;var n=function(){e.style.removeProperty("-webkit-transition"),e.style.removeProperty("transition"),e.removeEventListener(transitionEvent("end"),n)};requestAnimationFrame(function(){e.addEventListener(transitionEvent("end"),n),e.style.maxHeight=o,e.style.opacity="1"})}function slideUp(e,t){t=t||"300ms ease",e.style.webkitTransition="initial",e.style.transition="initial";var o=e.offsetHeight+"px";e.style.maxHeight=o,e.style.overflow="hidden",e.style.webkitTransition="max-height "+t+", opacity "+t,e.style.transition="max-height "+t+", opacity "+t;requestAnimationFrame(function(){e.style.maxHeight="0",e.style.opacity="0"})}function jump(e){var t=document.getElementById(e).offsetTop;window.scrollTo(0,t)}function isEven(e){return e%2==0}function isset(){var e,t=arguments,o=t.length,n=0;if(0===o)throw new Error("Empty isset");for(;n!==o;){if(t[n]===e||null===t[n])return!1;n++}return!0}function getNewPostsAjax(e){loading=!0,load_more_error("out"),fade({el:loadMorePosts,type:"out",duration:500},function(){ajaxLoadingAnimation(document.getElementById("load-more-wrap"),"prepend")}),postPhpAjax(e,"json","",postsLoadFunction)}function postsLoadFunction(e){e?(e.html.length>0?!function t(o){setTimeout(function(){var n=document.createElement("div");n.innerHTML=e.html[o],masonryLive?(ajaxPostWrap.appendChild(n),masonry.appended(n),buildLoryCarousel(n)):(n.style.display="none",ajaxPostWrap.appendChild(n),fade({el:n,type:"in",duration:1e3}),buildLoryCarousel(n)),--o&&t(o)},100)}(e.html.length):load_more_error("in"),e.load_more&&"button"===loadType&&fade({el:loadMorePosts,type:"in",duration:500}),e.paged&&(paged=e.paged)):load_more_error("in"),loading=!1,ajaxLoadingAnimation(document.getElementById("load-more-wrap"),"remove")}function almostAtBottom(){var e=footerDiv.getBoundingClientRect(),t=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(e.bottom<0||e.top-t-500>=0)}function load_more_error(e){if("in"==e||"out"==e){var t=document.getElementById("load-more-posts-error");("in"==e&&!t.classList.contains("show")||"out"==e&&t.classList.contains("show"))&&t.classList.toggle("show")}}function creatGaEvent(e,t,o){"function"==typeof ga&&ga("send","event",e,t,o,0)}function p_c(e,t){t||(t="notif"),allowDebug&&("success"==t&&console.log("%cSuccess%c "+e,"color: white; background-color: green; padding: 0 0.5em 0 0.5em;"," "),"notif"==t&&console.log("%cNotification%c "+e,"color: white; background-color: purple; padding: 0 0.5em 0 0.5em;"," "),"warn"==t&&console.log("%cWarning%c "+e,"color: white; background-color: orange; padding: 0 0.5em 0 0.5em;"," "),"error"==t&&console.log("%cError%c "+e,"color: white; background-color: red; padding: 0 0.5em 0 0.5em;"," "))}function buildLoryCarousel(e){function t(e){if("before.lory.init"===e.type){for(var t=0,o=n;t<o;t++){var s=i.cloneNode();a.appendChild(s)}a.childNodes[0].classList.add("active")}if("after.lory.init"===e.type)for(var t=0,o=n;t<o;t++)a.childNodes[t].addEventListener("click",function(e){r.slideTo(Array.prototype.indexOf.call(a.childNodes,e.target))});if("after.lory.slide"===e.type){for(var t=0,o=a.childNodes.length;t<o;t++)a.childNodes[t].classList.remove("active");a.childNodes[e.detail.currentSlide-1].classList.add("active")}if("on.lory.resize"===e.type){for(var t=0,o=a.childNodes.length;t<o;t++)a.childNodes[t].classList.remove("active");a.childNodes[0].classList.add("active")}}var o=e.querySelector(".lory-carousel");if(o){var n=o.querySelectorAll(".js_slide").length,a=o.querySelector(".js_dots"),i=document.createElement("li");i.className="smooth",o.addEventListener("before.lory.init",t),o.addEventListener("after.lory.init",t),o.addEventListener("after.lory.slide",t),o.addEventListener("on.lory.resize",t);var r=lory(o,{infinite:1,enableMouseEvents:!0})}}for(var ajaxLoadingAnimationActive=[],externalElem=document.querySelectorAll("a.external, .external a"),i=0;i<externalElem.length;i++)externalElem[i].setAttribute("target","_blank"),externalElem[i].setAttribute("rel","noopener noreferrer");Element.prototype.on=Element.prototype.addEventListener,"function"==typeof objectFitImages&&(fitImages=document.querySelectorAll(".obj-fit"),fitImages&&objectFitImages(fitImages)),Array.prototype.contains=function(e){for(i in this)if(this[i]==e)return!0;return!1};var ajaxPostWrap=document.getElementById("ajax-post-wrap"),loadMorePosts=document.getElementById("load-more-posts"),footerDiv=document.querySelector("footer");if(ajaxPostWrap&&loadMorePosts){var basicNavAbove=document.getElementById("nav-above"),basicNavBelow=document.getElementById("nav-below"),buttonWrap=document.getElementById("load-more-wrap"),query=loadMorePosts.getAttribute("data-query"),paged=loadMorePosts.getAttribute("data-paged"),template=loadMorePosts.getAttribute("data-custom-template"),loadType=loadMorePosts.getAttribute("data-loadtype"),loading=!1;basicNavAbove&&fade({el:basicNavAbove,type:"out",duration:500}),basicNavBelow&&fade({el:basicNavBelow,type:"out",duration:500}),"button"===loadType&&fade({el:loadMorePosts,type:"in",duration:500});var data={action:"indie_studio_load_more_posts",query:query,template:template,paged:paged};"infinite"==loadType&&(window.onscroll=function(e){almostAtBottom()&&!loading&&getNewPostsAjax(data)}),loadMorePosts&&"button"==loadType&&loadMorePosts.addEventListener("click",function(){getNewPostsAjax(data)})}var allowDebug=theme_custom_ajax.ajax_url;p_c("------ Debugging Enabled ------"),p_c("-- Custom scripts start here --"),buildLoryCarousel(document.querySelector(".module"));var masonryLive=!1,masonryDom=document.querySelector(".masonry");if(masonryDom){var masonry=new Masonry(masonryDom,{columnWidth:".masonry-column-sizer",gutter:".masonry-gutter-sizer",itemSelector:".module",percentPosition:!0});imagesLoaded(masonryDom,function(e){masonry.layout()}),masonryDom.classList.remove("basic"),masonryLive=!0}var screenWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),headerHeight;if(jQuery(document).ready(function(e){function t(){r.addClass("active"),l.focus(),u.addClass("search")}function o(){r.removeClass("active"),u.removeClass("search")}function n(){i.toggleClass("navigation-open")}function a(){i.removeClass("navigation-open")}var i=e("body"),r=e("#header-search"),s=e("#header-search form"),l=e("#header-search-input"),c=e("#search-button"),d=e("#main-search-input"),u=e("#site-navigation"),m=e("#burger .trig");l.length>0&&(d.length>0&&syncTextInputElements("main-search-input","header-search-input"),c.on("click tap",function(n){if(r.hasClass("active")){var a=e(l).val();a.length>0?e(s).submit():o()}else t()}),e(document).on("click tap",function(e){r.is(e.target)||0!==r.has(e.target).length||o()})),m.on("click tap",function(e){n()}),e(document).mouseup(function(e){u.is(e.target)||0!==u.has(e.target).length||m.is(e.target)||a()})}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}(this,function(){var e=function(t,o){var n=Object.create(e.prototype),a=0,i=0,r=[],s=!1,l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},c=function(e,t,o){return e<=t?t:e>=o?o:e};n.options={speed:-2,center:!1},o&&Object.keys(o).forEach(function(e){n.options[e]=o[e]}),n.options.speed=c(n.options.speed,-10,10),t||(t=".rellax");var d=document.querySelectorAll(t);if(!(0<d.length))throw Error("The elements you're trying to select don't exist.");n.elems=d;var u=function(e){var t=e.getAttribute("data-rellax-percentage"),o=e.getAttribute("data-rellax-speed"),a=t||n.options.center?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop:0,r=a+e.getBoundingClientRect().top,s=e.clientHeight||e.offsetHeight||e.scrollHeight,l=t?t:(a-r+i)/(s+i);return n.options.center&&(l=.5),a=o?c(o,-10,10):n.options.speed,(t||n.options.center)&&(a=c(o||n.options.speed,-5,5)),t=Math.round(100*a*(1-l)),e=e.style.cssText,o="",0<=e.indexOf("transform")&&(o=e.indexOf("transform"),o=e.slice(o),o=(l=o.indexOf(";"))?" "+o.slice(11,l).replace(/\s/g,""):" "+o.slice(11).replace(/\s/g,"")),{base:t,top:r,height:s,speed:a,style:e,transform:o}},m=function(){var e=a;return a=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e!=a},p=function(){m()&&!1===s&&f(),l(p)},f=function(){for(var e=0;e<n.elems.length;e++){var t=" translate3d(0,"+(Math.round(100*r[e].speed*(1-(a-r[e].top+i)/(r[e].height+i)))-r[e].base)+"px,0)"+r[e].transform;n.elems[e].style.cssText=r[e].style+"-webkit-transform:"+t+";-moz-transform:"+t+";transform:"+t+";"}};return n.destroy=function(){for(var e=0;e<n.elems.length;e++)n.elems[e].style.cssText=r[e].style;s=!0},function(){i=window.innerHeight,m();for(var e=0;e<n.elems.length;e++){var t=u(n.elems[e]);r.push(t)}window.addEventListener("resize",function(){f()}),p(),f()}(),n};return e}),document.querySelector(".rellax"))var rellax=new Rellax(".rellax");var animSpeed=500;jQuery(document).ready(function(e){var t=function(){e(window).scroll(function(){e(this).scrollTop()>800?e(".toTop").addClass("show"):e(".toTop").removeClass("show")}),e(".toTop").on("click",function(){return e("html, body").animate({scrollTop:0},1e3),!1})};t(),"function"==typeof ScrollReveal&&(window.sr=ScrollReveal({distance:"5px",duration:"1000",viewFactor:.4}),sr.reveal(".page-full-width .panel.sr",{origin:"top"}),sr.reveal(".sr.top",{origin:"top"}),sr.reveal(".sr.left",{origin:"left",distance:"20px"}),sr.reveal(".sr.right",{origin:"right",distance:"20px"})),e(function(){e('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname&&!e(this).hasClass("fancybox")&&!e(this).hasClass("hashTab")){var t=e(this.hash);if(t=t.length?t:e("[name="+this.hash.slice(1)+"]"),t.length)return e("html, body").animate({scrollTop:t.offset().top-50},1e3),!1}})}),e(".fancybox").fancybox({fullScreen:!1,iframe:{scrolling:"yes"},modal:!1}),e("[data-fancybox]").fancybox({beforeLoad:function(t,o){var n=o.opts.$orig;e(n).hasClass("user-login-redir")&&e("#user-login-module").length>0&&e("#login-redir").val(e(n).data("redir"))}})}),jQuery(document).ready(function(e){e(".toggle-list .toggle").on("click tap touchstart",function(t){t.preventDefault(),e(this).closest("li").toggleClass("open").find("ul").first().slideToggle()})});